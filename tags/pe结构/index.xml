<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>PE结构 on 编程心语</title>
    <link>https://www.ithome.me/tags/pe%E7%BB%93%E6%9E%84/</link>
    <description>Recent content in PE结构 on 编程心语</description>
    <generator>Hugo</generator>
    <language>zh-CN</language>
    <copyright>©{year}, All Rights Reserved. Simon Chen</copyright>
    <lastBuildDate>Tue, 05 Mar 2013 23:50:35 +0800</lastBuildDate>
    <atom:link href="https://www.ithome.me/tags/pe%E7%BB%93%E6%9E%84/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>PE文件与虚拟内存之间的映射(一)</title>
      <link>https://www.ithome.me/post/2013/03/05/pe%E6%96%87%E4%BB%B6%E4%B8%8E%E8%99%9A%E6%8B%9F%E5%86%85%E5%AD%98%E4%B9%8B%E9%97%B4%E7%9A%84%E6%98%A0%E5%B0%84%E4%B8%80/</link>
      <pubDate>Tue, 05 Mar 2013 23:50:35 +0800</pubDate>
      <guid>https://www.ithome.me/post/2013/03/05/pe%E6%96%87%E4%BB%B6%E4%B8%8E%E8%99%9A%E6%8B%9F%E5%86%85%E5%AD%98%E4%B9%8B%E9%97%B4%E7%9A%84%E6%98%A0%E5%B0%84%E4%B8%80/</guid>
      <description>&lt;p&gt;关于PE文件，网上有很多资料，我们初学者基本都很难弄明白，被那些名词弄得头昏。我这里也还是要先说明下这些名词的概念。&lt;/p&gt;&#xA;&lt;p&gt;(1)**文件偏移地址(Offset)：**数据在PE文件中的地址。所谓的PE文件，就是我们的Exe文件或者DLL文件，这个文件偏移地址就是它在文件中的地址，就是它在这个文件在磁盘上存放时相对于文件开头的偏移。&lt;/p&gt;&#xA;&lt;p&gt;(2)&lt;strong&gt;装载地址(Image Base)，也就是所谓的内存基址&lt;/strong&gt;: PE纹状装载到内存时的基地址。默认情况下，EXE文件在内存中的基地址是0x00400000,DLL文件是0x10000000。这些位置是可以通过修改编译选项更改的。&lt;/p&gt;&#xA;&lt;p&gt;(3)**虚拟内存地址(Virtual Address,VA):**就是所谓的VA，是PE文件中的指令被装入内存后的地址&lt;/p&gt;&#xA;&lt;p&gt;(4)**相对虚拟地址(Relative Virtual Address,RVA):**是虚拟内存地址相对于装载地址的偏移量。&lt;/p&gt;&#xA;&lt;p&gt;虚拟内存地址、映射基址、相对虚拟内存地址三者之间的关系是：&#xA;&lt;strong&gt;虚拟内存地址 = 映射基址(装载地址) + 相对虚拟地址&lt;/strong&gt;&#xA;** VA=Image Base+RVA;**&lt;/p&gt;&#xA;&lt;p&gt;从网上盗了张图：关系如下&#xA;&lt;a href=&#34;http://www.ithome.me/wp-content/uploads/2013/03/6e061d950f8e24357af48056.jpg&#34; target=&#34;_blank&#34; rel=&#34;noopener noreffer&#34;&gt;&lt;img&#xA;        class=&#34;lazyload&#34;&#xA;        src=&#34;https://www.ithome.me/svg/loading.min.svg&#34;&#xA;        data-src=&#34;http://www.ithome.me/wp-content/uploads/2013/03/6e061d950f8e24357af48056-300x248.jpg&#34;&#xA;        data-srcset=&#34;http://www.ithome.me/wp-content/uploads/2013/03/6e061d950f8e24357af48056-300x248.jpg, http://www.ithome.me/wp-content/uploads/2013/03/6e061d950f8e24357af48056-300x248.jpg 1.5x, http://www.ithome.me/wp-content/uploads/2013/03/6e061d950f8e24357af48056-300x248.jpg 2x&#34;&#xA;        data-sizes=&#34;auto&#34;&#xA;        alt=&#34;http://www.ithome.me/wp-content/uploads/2013/03/6e061d950f8e24357af48056-300x248.jpg&#34;&#xA;        title=&#34;PE文件结构&#34; /&gt;&lt;/a&gt;&#xA;&lt;/p&gt;&#xA;&lt;p&gt;今天先到这里，下次继续。&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
