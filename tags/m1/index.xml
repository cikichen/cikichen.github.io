<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>M1 on 编程心语</title>
    <link>https://www.ithome.me/tags/m1/</link>
    <description>Recent content in M1 on 编程心语</description>
    <generator>Hugo</generator>
    <language>zh-CN</language>
    <copyright>©{year}, All Rights Reserved. Simon Chen</copyright>
    <lastBuildDate>Wed, 07 Apr 2021 10:55:51 +0800</lastBuildDate>
    <atom:link href="https://www.ithome.me/tags/m1/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>ABIs [arm64-v8a, x86_64] are not supported for platform. Supported ABIs are [armeabi-v7a, x86].</title>
      <link>https://www.ithome.me/post/2021/04/07/m1-abis-arm64-v8a-x86_64-are-not-supported-for-platform.-supported-abis-are-armeabi-v7a-x86/</link>
      <pubDate>Wed, 07 Apr 2021 10:55:51 +0800</pubDate>
      <guid>https://www.ithome.me/post/2021/04/07/m1-abis-arm64-v8a-x86_64-are-not-supported-for-platform.-supported-abis-are-armeabi-v7a-x86/</guid>
      <description>&lt;p&gt;M1的兼容性问题还是不少，比如NDK开发遇到坑了，提示&#xA;&lt;code&gt;ABIs [arm64-v8a, x86_64] are not supported for platform. Supported ABIs are [armeabi-v7a, x86]&lt;/code&gt;&lt;/p&gt;&#xA;&lt;p&gt;然后找到了这个issue:&#xA;&lt;a href=&#34;https://github.com/android/ndk/issues/1299&#34; target=&#34;_blank&#34; rel=&#34;noopener noreffer&#34;&gt;https://github.com/android/ndk/issues/1299&lt;/a&gt;&#xA;&lt;/p&gt;&#xA;&lt;p&gt;尝试了无果。&lt;/p&gt;&#xA;&lt;p&gt;然后无意中发现其他人的M1可以编译，对比后发现是NDK版本问题，我使用的最新22版本报错，但是降级到&lt;code&gt;21.1.6352462&lt;/code&gt;后能正常编译成功。&lt;/p&gt;</description>
    </item>
    <item>
      <title>MacBook M1开发Flutter遇到的问题</title>
      <link>https://www.ithome.me/post/2020/12/31/macbook-m1%E5%BC%80%E5%8F%91flutter%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98/</link>
      <pubDate>Thu, 31 Dec 2020 18:33:50 +0800</pubDate>
      <guid>https://www.ithome.me/post/2020/12/31/macbook-m1%E5%BC%80%E5%8F%91flutter%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98/</guid>
      <description>&lt;h3 id=&#34;前言&#34;&gt;前言&lt;/h3&gt;&#xA;&lt;p&gt;前一台MacBook已经战了6年，去年准备换16寸，因为各种原因一直等到了今年，又因为得知ARM架构的MacBook要上了，等等党永不为奴，终于等到了它。&lt;/p&gt;&#xA;&lt;p&gt;我买的是MacBook Pro M1 16+512的配置，用了几天觉得等M2才是真香，M1离真香还差点意思，尤其是系统bug，太致命，开发工具目前原生适配的也不多，用起来提升没那么明显。&lt;/p&gt;&#xA;&lt;h3 id=&#34;搭建flutter环境&#34;&gt;搭建flutter环境&lt;/h3&gt;&#xA;&lt;p&gt;这个不细说，官网已经很详细了：https://flutterchina.club/setup-macos/&lt;/p&gt;&#xA;&lt;h3 id=&#34;m1开发flutter靠谱吗&#34;&gt;M1开发Flutter靠谱吗？&lt;/h3&gt;&#xA;&lt;p&gt;整体还行，但是目前来说，因为适配的问题，想模拟器运行都要调试一番，iPhone和Android都是。不过&lt;strong&gt;M1可以直接把自己的&lt;code&gt;udid&lt;/code&gt;注册到开发者账号中去，原生直接运行iPhone App&lt;/strong&gt;，这个确实骚，但是为什么我的MacBook注册后设备类型是&lt;code&gt;ipod&lt;/code&gt;?&#xA;&lt;img&#xA;        class=&#34;lazyload&#34;&#xA;        src=&#34;https://www.ithome.me/svg/loading.min.svg&#34;&#xA;        data-src=&#34;https://img.ibook8.club/mweb/16094114966896.jpg&#34;&#xA;        data-srcset=&#34;https://img.ibook8.club/mweb/16094114966896.jpg, https://img.ibook8.club/mweb/16094114966896.jpg 1.5x, https://img.ibook8.club/mweb/16094114966896.jpg 2x&#34;&#xA;        data-sizes=&#34;auto&#34;&#xA;        alt=&#34;https://img.ibook8.club/mweb/16094114966896.jpg&#34;&#xA;        title=&#34;https://img.ibook8.club/mweb/16094114966896.jpg&#34; /&gt;&lt;/p&gt;&#xA;&lt;p&gt;目前M1上iphone模拟器运行flutter app可能遇到一些问题，主要是三方依赖的插件很多没适配arm64，需要大量调试（参考:https://stackoverflow.com/questions/63607158/xcode-12-building-for-ios-simulator-but-linking-in-object-file-built-for-ios） &lt;br&gt;&#xA;android模拟器只有个测试版，问题一大堆，也基本不可用，所以现在这个阶段想在M1上开发app的话，调试需要真机走起。(模拟器查看：https://androidstudio.googleblog.com/2020/12/android-emulator-apple-silicon-preview.html)&lt;/p&gt;&#xA;&lt;p&gt;偶尔会有一些无法理解的错误，命令行&lt;code&gt;flutter clean&lt;/code&gt;可能有惊喜。&lt;/p&gt;&#xA;&lt;h3 id=&#34;常见错误&#34;&gt;常见错误&lt;/h3&gt;&#xA;&lt;h4 id=&#34;webview_plugin-flutterflutterh-file-not-found&#34;&gt;webview_plugin &amp;lsquo;Flutter/Flutter.h&amp;rsquo; file not found&lt;/h4&gt;&#xA;&lt;p&gt;旧项目迁移到M1上后，可能会出现这个错误&#xA;解决方案:&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ rm ios/Flutter/Flutter.podspec&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ flutter clean&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;vm-service-error-unhandled-exception&#34;&gt;vm-service: Error: Unhandled exception&lt;/h4&gt;&#xA;&lt;p&gt;运行时报这个错，应该是你在运行小猫咪&#xA;解决方案：&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-gdscript3&#34; data-lang=&#34;gdscript3&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;NO_PROXY&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;localhost&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;127.0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;0.1&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;source&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;~/.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;zshrc&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
  </channel>
</rss>
