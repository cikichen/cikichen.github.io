<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Record on 编程心语</title>
    <link>https://www.ithome.me/tags/record/</link>
    <description>Recent content in Record on 编程心语</description>
    <generator>Hugo</generator>
    <language>zh-CN</language>
    <copyright>©{year}, All Rights Reserved. Simon Chen</copyright>
    <lastBuildDate>Mon, 29 Dec 2014 23:42:26 +0800</lastBuildDate>
    <atom:link href="https://www.ithome.me/tags/record/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Android4.4屏幕录制命令screenrecord</title>
      <link>https://www.ithome.me/post/2014/12/29/android4/</link>
      <pubDate>Mon, 29 Dec 2014 23:42:26 +0800</pubDate>
      <guid>https://www.ithome.me/post/2014/12/29/android4/</guid>
      <description>&lt;p&gt;原文地址：http://www.jcodecraeer.com/a/anzhuokaifa/androidkaifa/2014/1012/1747.html&lt;/p&gt;&#xA;&lt;h2 id=&#34;你要知道&#34;&gt;你要知道:&lt;/h2&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;screenrecord是一个shell命令&lt;/li&gt;&#xA;&lt;li&gt;支持Android4.4(API level 19)以上&lt;/li&gt;&#xA;&lt;li&gt;支持视频格式: mp4&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 id=&#34;一些限制&#34;&gt;&lt;a name=&#34;t2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;https://github.com/bxiaopeng/wirelessqa/blob/master/Android/AndroidTest/Android%E8%A7%86%E9%A2%91%E5%BD%95%E5%88%B6%E5%91%BD%E4%BB%A4.md#%E4%B8%80%E4%BA%9B%E9%99%90%E5%88%B6&#34; target=&#34;_blank&#34; rel=&#34;noopener noreffer&#34;&gt;&lt;/a&gt;&#xA;一些限制&lt;/h2&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;某些设备可能无法直接录制,原因是分辨率太高,如果遇到此类问题，请试着指定较低的分辨率&lt;/li&gt;&#xA;&lt;li&gt;不支持录制过程中屏幕旋转,如果录制过程中旋转，有可能画面被切断&lt;/li&gt;&#xA;&lt;li&gt;录制视频的时候声音不会被录下来&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 id=&#34;开始录制命令&#34;&gt;&lt;a name=&#34;t3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;https://github.com/bxiaopeng/wirelessqa/blob/master/Android/AndroidTest/Android%E8%A7%86%E9%A2%91%E5%BD%95%E5%88%B6%E5%91%BD%E4%BB%A4.md#%E5%BC%80%E5%A7%8B%E5%BD%95%E5%88%B6%E5%91%BD%E4%BB%A4&#34; target=&#34;_blank&#34; rel=&#34;noopener noreffer&#34;&gt;&lt;/a&gt;&#xA;开始录制命令:&lt;/h2&gt;&#xA;&lt;pre&gt;adb shell screenrecord /sdcard/demo.mp4&lt;/pre&gt;&#xA;&lt;p&gt;说明:录制手机屏幕,视频格式为mp4,存放到手机sd卡里，默认录制时间为180s&lt;/p&gt;&#xA;&lt;h2 id=&#34;限制录制时间&#34;&gt;&lt;a name=&#34;t4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;https://github.com/bxiaopeng/wirelessqa/blob/master/Android/AndroidTest/Android%E8%A7%86%E9%A2%91%E5%BD%95%E5%88%B6%E5%91%BD%E4%BB%A4.md#%E9%99%90%E5%88%B6%E5%BD%95%E5%88%B6%E6%97%B6%E9%97%B4&#34; target=&#34;_blank&#34; rel=&#34;noopener noreffer&#34;&gt;&lt;/a&gt;&#xA;限制录制时间:&lt;/h2&gt;&#xA;&lt;p&gt;参数: &amp;ndash;time-limit&lt;/p&gt;&#xA;&lt;pre&gt;adb shell screenrecord  --time-limit 10 /sdcard/demo.mp4&lt;/pre&gt;&#xA;&lt;p&gt;说明:限制视频录制时间为10s,如果不限制,默认180s&lt;/p&gt;&#xA;&lt;h2 id=&#34;指定视频分辨率大小&#34;&gt;&lt;a name=&#34;t5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;https://github.com/bxiaopeng/wirelessqa/blob/master/Android/AndroidTest/Android%E8%A7%86%E9%A2%91%E5%BD%95%E5%88%B6%E5%91%BD%E4%BB%A4.md#%E6%8C%87%E5%AE%9A%E8%A7%86%E9%A2%91%E5%88%86%E8%BE%A8%E7%8E%87%E5%A4%A7%E5%B0%8F&#34; target=&#34;_blank&#34; rel=&#34;noopener noreffer&#34;&gt;&lt;/a&gt;&#xA;指定视频分辨率大小：&lt;/h2&gt;&#xA;&lt;p&gt;参数: &amp;ndash;size&lt;/p&gt;&#xA;&lt;pre&gt;adb shell screenrecord --size 1280*720 /sdcard/demo.mp4&lt;/pre&gt;&#xA;&lt;p&gt;说明:录制视频，分辨率为1280*720，如果不指定默认使用手机的分辨率,为获得最佳效果，请使用设备上的高级视频编码（AVC）支持的大小&lt;/p&gt;&#xA;&lt;h2 id=&#34;指定视频的比特率&#34;&gt;&lt;a name=&#34;t6&#34;&gt;&lt;/a&gt;&lt;a href=&#34;https://github.com/bxiaopeng/wirelessqa/blob/master/Android/AndroidTest/Android%E8%A7%86%E9%A2%91%E5%BD%95%E5%88%B6%E5%91%BD%E4%BB%A4.md#%E6%8C%87%E5%AE%9A%E8%A7%86%E9%A2%91%E7%9A%84%E6%AF%94%E7%89%B9%E7%8E%87&#34; target=&#34;_blank&#34; rel=&#34;noopener noreffer&#34;&gt;&lt;/a&gt;&#xA;指定视频的比特率&lt;/h2&gt;&#xA;&lt;p&gt;参数: &amp;ndash;bit-rate&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;adb shell screenrecord --bit-rate 6000000 /sdcard/demo.mp4`&amp;lt;/pre&amp;gt;&#xA;说明:指定视频的比特率为6Mbps,如果不指定,默认为4Mbps. 你可以增加比特率以提高视频质量或为了让文件更小而降低比特率&#xA;&#xA;## &amp;lt;a name=&amp;quot;t7&amp;quot;&amp;gt;&amp;lt;/a&amp;gt;[](https://github.com/bxiaopeng/wirelessqa/blob/master/Android/AndroidTest/Android%E8%A7%86%E9%A2%91%E5%BD%95%E5%88%B6%E5%91%BD%E4%BB%A4.md#%E5%9C%A8%E5%91%BD%E4%BB%A4%E8%A1%8C%E6%98%BE%E7%A4%BAlog)在命令行显示log&#xA;&#xA;参数: --verbose&#xA;&amp;lt;pre&amp;gt;bixiaopeng@bixiaopeng wirelessqa$ adb shell screenrecord --time-limit 10 --verbose /sdcard/demo.mp4&#xA;Main display is 1080x1920 @60.00fps (orientation=0)&#xA;Configuring recorder for 1080x1920 video at 4.00Mbps&#xA;Content area is 1080x1920 at offset x=0 y=0&#xA;Time limit reached&#xA;Encoder stopping; recorded 96 frames in 10 seconds&#xA;Stopping encoder and muxer&#xA;Executing: /system/bin/am broadcast -a android.intent.action.MEDIA_SCANNER_SCAN_FILE -d file:///sdcard/demo.mp4&#xA;Broadcasting: Intent { act=android.intent.action.MEDIA_SCANNER_SCAN_FILE dat=file:///sdcard/demo.mp4 }&#xA;Broadcast completed: result=0&amp;lt;/pre&amp;gt;&#xA;&amp;lt;div&amp;gt;&amp;lt;/div&amp;gt;&#xA;&#xA;## &amp;lt;a name=&amp;quot;t8&amp;quot;&amp;gt;&amp;lt;/a&amp;gt;[](https://github.com/bxiaopeng/wirelessqa/blob/master/Android/AndroidTest/Android%E8%A7%86%E9%A2%91%E5%BD%95%E5%88%B6%E5%91%BD%E4%BB%A4.md#%E6%97%8B%E8%BD%AC90%E5%BA%A6)旋转90度&#xA;&#xA;参数: --rotate&#xA;&#xA;说明:此功能为实验性的，好不好用不知道&#xA;&#xA;## &amp;lt;a name=&amp;quot;t9&amp;quot;&amp;gt;&amp;lt;/a&amp;gt;[](https://github.com/bxiaopeng/wirelessqa/blob/master/Android/AndroidTest/Android%E8%A7%86%E9%A2%91%E5%BD%95%E5%88%B6%E5%91%BD%E4%BB%A4.md#%E6%9F%A5%E7%9C%8B%E5%B8%AE%E5%8A%A9%E5%91%BD%E4%BB%A4)查看帮助命令&#xA;&#xA;参数: --help&#xA;&amp;lt;pre&amp;gt;bixiaopeng@bixiaopeng ~$ adb shell screenrecord --help&#xA;Usage: screenrecord [options] &amp;amp;lt;filename&amp;amp;gt;&#xA;Records the device&#39;s display to a .mp4 file.&#xA;Options:&#xA;--size WIDTHxHEIGHT&#xA;    Set the video size, e.g. &amp;quot;1280x720&amp;quot;.  Default is the device&#39;s main&#xA;    display resolution (if supported), 1280x720 if not.  For best results,&#xA;    use a size supported by the AVC encoder.&#xA;--bit-rate RATE&#xA;    Set the video bit rate, in megabits per second.  Default 4Mbps.&#xA;--time-limit TIME&#xA;    Set the maximum recording time, in seconds.  Default / maximum is 180.&#xA;--rotate&#xA;    Rotate the output 90 degrees.&#xA;--verbose&#xA;    Display interesting information on stdout.&#xA;--help&#xA;    Show this message.&#xA;Recording continues until Ctrl-C is hit or the time limit is reached.&amp;lt;/pre&amp;gt;&#xA;&amp;lt;div&amp;gt;&amp;lt;/div&amp;gt;&#xA;&#xA;## &amp;lt;a name=&amp;quot;t10&amp;quot;&amp;gt;&amp;lt;/a&amp;gt;[](https://github.com/bxiaopeng/wirelessqa/blob/master/Android/AndroidTest/Android%E8%A7%86%E9%A2%91%E5%BD%95%E5%88%B6%E5%91%BD%E4%BB%A4.md#%E5%AF%BC%E5%87%BA%E8%A7%86%E9%A2%91)导出视频：&#xA;&#xA;&amp;lt;pre&amp;gt;`adb pull /sdcard/demo.mp4&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;说明:导出视频到当前目录&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
