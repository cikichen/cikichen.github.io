<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>组件 on 编程心语</title>
    <link>https://www.ithome.me/tags/%E7%BB%84%E4%BB%B6/</link>
    <description>Recent content in 组件 on 编程心语</description>
    <generator>Hugo</generator>
    <language>zh-CN</language>
    <copyright>©{year}, All Rights Reserved. Simon Chen</copyright>
    <lastBuildDate>Wed, 17 Jul 2013 17:06:49 +0800</lastBuildDate>
    <atom:link href="https://www.ithome.me/tags/%E7%BB%84%E4%BB%B6/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>[转]使用和版本关联的组件</title>
      <link>https://www.ithome.me/post/2013/07/17/%E8%BD%AC%E4%BD%BF%E7%94%A8%E5%92%8C%E7%89%88%E6%9C%AC%E5%85%B3%E8%81%94%E7%9A%84%E7%BB%84%E4%BB%B6/</link>
      <pubDate>Wed, 17 Jul 2013 17:06:49 +0800</pubDate>
      <guid>https://www.ithome.me/post/2013/07/17/%E8%BD%AC%E4%BD%BF%E7%94%A8%E5%92%8C%E7%89%88%E6%9C%AC%E5%85%B3%E8%81%94%E7%9A%84%E7%BB%84%E4%BB%B6/</guid>
      <description>&lt;h2 id=&#34;课程内容&#34;&gt;课程内容&lt;/h2&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;添加选择逻辑&lt;/li&gt;&#xA;&lt;li&gt;创建一个版本感知的Activity Layout&lt;/li&gt;&#xA;&lt;li&gt;在Activity中使用 TabHelper&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;h2 id=&#34;动手试试&#34;&gt;动手试试&lt;/h2&gt;&#xA;&lt;p&gt;Download the sample app  &lt;a href=&#34;http://developer.android.com/shareables/training/TabCompat.zip&#34; target=&#34;_blank&#34; rel=&#34;noopener noreffer&#34;&gt;TabCompat.zip&lt;/a&gt;&#xA;&lt;/p&gt;&#xA;&lt;p&gt;这节内容介绍如何添加选择不同实现的逻辑以及如何在对应的版本中选择对应的实现方式，如何创建版本感知的布局。&lt;/p&gt;&#xA;&lt;h2 id=&#34;添加选择逻辑&#34;&gt;添加选择逻辑&lt;/h2&gt;&#xA;&lt;p&gt;TabHelpe 抽象类作为&lt;a href=&#34;http://en.wikipedia.org/wiki/Factory_%28software_concept%29&#34; target=&#34;_blank&#34; rel=&#34;noopener noreffer&#34;&gt;factory工厂方法&lt;/a&gt;&#xA;类来创建版本相关的&lt;span style=&#34;color: #0000ff;&#34;&gt;TabHelper&lt;/span&gt; 和 &lt;span style=&#34;color: #0000ff;&#34;&gt;CompatTab&lt;/span&gt; 实例。&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;abstract&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;TabHelper&lt;/span&gt; {&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;...&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// Usage is TabHelper.createInstance(activity)&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;static&lt;/span&gt; TabHelper &lt;span style=&#34;color:#a6e22e&#34;&gt;createInstance&lt;/span&gt;(FragmentActivity activity) {&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (Build.&lt;span style=&#34;color:#a6e22e&#34;&gt;VERSION&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;SDK_INT&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;=&lt;/span&gt; Build.&lt;span style=&#34;color:#a6e22e&#34;&gt;VERSION_CODES&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;HONEYCOMB&lt;/span&gt;) {&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;new&lt;/span&gt; TabHelperHoneycomb(activity);&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;} &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; {&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;new&lt;/span&gt; TabHelperEclair(activity);&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// Usage is mTabHelper.newTab(&amp;#34;tag&amp;#34;)&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; CompatTab &lt;span style=&#34;color:#a6e22e&#34;&gt;newTab&lt;/span&gt;(String tag) {&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (Build.&lt;span style=&#34;color:#a6e22e&#34;&gt;VERSION&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;SDK_INT&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;=&lt;/span&gt; Build.&lt;span style=&#34;color:#a6e22e&#34;&gt;VERSION_CODES&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;HONEYCOMB&lt;/span&gt;) {&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;new&lt;/span&gt; CompatTabHoneycomb(mActivity, tag);&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;} &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; {&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;new&lt;/span&gt; CompatTabEclair(mActivity, tag);&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;...&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;创建一个版本感知的activity-layout&#34;&gt;创建一个版本感知的Activity Layout&lt;/h2&gt;&#xA;&lt;p&gt;然后是创建一个支持两种tab实现的布局。对于旧的实现方式 (TabHelperEclair)，布局中包含 &lt;a href=&#34;https://developer.android.com/reference/android/widget/TabWidget.html&#34; target=&#34;_blank&#34; rel=&#34;noopener noreffer&#34;&gt;TabWidget&lt;/a&gt;&#xA; 和 &lt;a href=&#34;https://developer.android.com/reference/android/widget/TabHost.html&#34; target=&#34;_blank&#34; rel=&#34;noopener noreffer&#34;&gt;TabHost&lt;/a&gt;&#xA;，和一个包含tab的容器:&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
