<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>android中intent.setFlags方法中的参数值含义</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="theme-color" content="#00796b">
  <meta name="msapplication-TileColor" content="#4E8071"/>
  
  
  
  
  <link rel="stylesheet" href="/css/style.css" type="text/css"> 
</head>


<body>

  <div id="container" class="container">
    <div class="left-col">
    <div class="intrude-less">
  <header id="header" class="inner">
    <a href="/" class="profilepic">
      <img src="https://avatars2.githubusercontent.com/u/1478821?v=3&amp;s=140" class="block-select js-avatar" style="width: 100%;height: 100%;opacity: 1;">
	</a>
	<p class="header-subtitle">分享有助于提升</p>
    <nav class="header-menu">
      <ul>
        <li><a href="/">主页</a></li><li><a href="/archives">所有文章</a></li><li><a href="/categories/移动开发">移动开发</a></li><li><a href="/about-me">关于我</a></li>
      </ul>
    </nav>
  </header>				
</div>


    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  <div class="intrude-less">
    <header id="header" class="inner">
      <a href="/" class="profilepic">
        <img src="https://avatars2.githubusercontent.com/u/1478821?v=3&amp;s=140" class="block-select js-avatar" style="width: 100%;height: 100%;opacity: 1;">
	  </a>
	  <p class="header-subtitle">分享有助于提升</p>
	  <nav class="header-menu">
	    <ul>
        <li><a href="/">主页</a></li><li><a href="/archives">所有文章</a></li><li><a href="/categories/移动开发">移动开发</a></li><li><a href="/about-me">关于我</a></li><div class="clearfix"></div>
		</ul>
	  </nav>
	</header>				
  </div>
</nav>

      <div class="body-wrap">
<article id="post-android中intent-setFlags方法中的参数值含义" class="article article-type-post" itemscope itemprop="blogPost">

   
    
    <div class="article-meta">
      
<div class="article-date">
<span class="datetime-published-tag"> 2015-01-23 </span>
</div>


    </div>
    
    
  
  <div class="article-inner block-select">
  
    
    
      <header class="article-header">
        
           
  
    <h1 class="article-title" itemprop="name">
      android中intent.setFlags方法中的参数值含义
    </h1>
  

        
      </header>
      
      <div class="article-info article-info-post">
        
	<div class="article-tag tagcloud block-select">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/android/">android</a></li></ul>
	</div>


        
             <div class="clearfix"></div>
        
      </div>
      
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>&#x4E00;. intent.setFlags()&#x65B9;&#x6CD5;&#x4E2D;&#x7684;&#x53C2;&#x6570;&#x503C;&#x542B;&#x4E49;&#xFF1A;</p>
<p><strong>1.FLAG_ACTIVITY_CLEAR_TOP</strong>&#xFF1A;<br>&#x4F8B;&#x5982;&#x73B0;&#x5728;&#x7684;&#x6808;&#x60C5;&#x51B5;&#x4E3A;&#xFF1A;A B C D &#x3002;D&#x6B64;&#x65F6;&#x901A;&#x8FC7;intent&#x8DF3;&#x8F6C;&#x5230;B&#xFF0C;&#x5982;&#x679C;&#x8FD9;&#x4E2A;intent&#x6DFB;&#x52A0;FLAG_ACTIVITY_CLEAR_TOP&#x6807;&#x8BB0;&#xFF0C;&#x5219;&#x6808;&#x60C5;&#x51B5;&#x53D8;&#x4E3A;&#xFF1A;A B&#x3002;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x6DFB;&#x52A0;&#x8FD9;&#x4E2A;&#x6807;&#x8BB0;&#xFF0C;&#x5219;&#x6808;&#x60C5;&#x51B5;&#x5C06;&#x4F1A;&#x53D8;&#x6210;&#xFF1A;A B C D B&#x3002;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;&#x5982;&#x679C;&#x6DFB;&#x52A0;&#x4E86;FLAG_ACTIVITY_CLEAR_TOP&#x6807;&#x8BB0;&#xFF0C;&#x5E76;&#x4E14;&#x76EE;&#x6807;Activity&#x5728;&#x6808;&#x4E2D;&#x5DF2;&#x7ECF;&#x5B58;&#x5728;&#xFF0C;&#x5219;&#x5C06;&#x4F1A;&#x628A;&#x4F4D;&#x4E8E;&#x8BE5;&#x76EE;&#x6807;activity&#x4E4B;&#x4E0A;&#x7684;activity&#x4ECE;&#x6808;&#x4E2D;&#x5F39;&#x51FA;&#x9500;&#x6BC1;&#x3002;&#x8FD9;&#x8DDF;&#x4E0A;&#x9762;&#x628A;B&#x7684;Launch mode&#x8BBE;&#x7F6E;&#x6210;singleTask&#x7C7B;&#x4F3C;&#x3002;&#x7B80;&#x800C;&#x8A00;&#x4E4B;&#xFF0C;&#x8DF3;&#x8F6C;&#x5230;&#x7684;activity&#x82E5;&#x5DF2;&#x5728;&#x6808;&#x4E2D;&#x5B58;&#x5728;&#xFF0C;&#x5219;&#x5C06;&#x5176;&#x4E0A;&#x7684;activity&#x90FD;&#x9500;&#x6389;&#x3002;</p>
<p><strong>2.FLAG_ACTIVITY_NEW_TASK&#xFF1A;</strong>&#x4F8B;&#x5982;&#x73B0;&#x5728;&#x6808;1&#x7684;&#x60C5;&#x51B5;&#x662F;&#xFF1A;A B C&#x3002;C&#x901A;&#x8FC7;intent&#x8DF3;&#x8F6C;&#x5230;D&#xFF0C;&#x5E76;&#x4E14;&#x8FD9;&#x4E2A;intent&#x6DFB;&#x52A0;&#x4E86;FLAG_ACTIVITY_NEW_TASK&#x6807;&#x8BB0;&#xFF0C;&#x5982;&#x679C;D&#x8FD9;&#x4E2A;Activity&#x5728;Manifest.xml&#x4E2D;&#x7684;&#x58F0;&#x660E;&#x4E2D;&#x6DFB;&#x52A0;&#x4E86;Task affinity&#xFF0C;&#x7CFB;&#x7EDF;&#x9996;&#x5148;&#x4F1A;&#x67E5;&#x627E;&#x6709;&#x6CA1;&#x6709;&#x548C;D&#x7684;Task affinity&#x76F8;&#x540C;&#x7684;task&#x6808;&#x5B58;&#x5728;&#xFF0C;&#x5982;&#x679C;&#x6709;&#x5B58;&#x5728;&#xFF0C;&#x5C06;D&#x538B;&#x5165;&#x90A3;&#x4E2A;&#x6808;&#xFF0C;&#x5982;&#x679C;&#x4E0D;&#x5B58;&#x5728;&#x5219;&#x4F1A;&#x65B0;&#x5EFA;&#x4E00;&#x4E2A;D&#x7684;affinity&#x7684;&#x6808;&#x5C06;&#x5176;&#x538B;&#x5165;&#x3002;&#x5982;&#x679C;D&#x7684;Task affinity&#x9ED8;&#x8BA4;&#x6CA1;&#x6709;&#x8BBE;&#x7F6E;&#xFF0C;&#x5219;&#x4F1A;&#x628A;&#x5176;&#x538B;&#x5165;&#x6808;1&#xFF0C;&#x53D8;&#x6210;&#xFF1A;A B C D&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x548C;&#x4E0D;&#x52A0;FLAG_ACTIVITY_NEW_TASK&#x6807;&#x8BB0;&#x6548;&#x679C;&#x662F;&#x4E00;&#x6837;&#x7684;&#x4E86;&#x3002;&#x6CE8;&#x610F;&#x5982;&#x679C;&#x8BD5;&#x56FE;&#x4ECE;&#x975E;activity&#x7684;&#x975E;&#x6B63;&#x5E38;&#x9014;&#x5F84;&#x542F;&#x52A8;&#x4E00;&#x4E2A;activity&#xFF08;&#x4F8B;&#x89C1;&#x4E0B;&#x6587;&#x201C;intent.setFlags()&#x65B9;&#x6CD5;&#x4E2D;&#x53C2;&#x6570;&#x7684;&#x7528;&#x4F8B;&#x201D;&#xFF09;&#xFF0C;&#x6BD4;&#x5982;&#x4ECE;&#x4E00;&#x4E2A;service&#x4E2D;&#x542F;&#x52A8;&#x4E00;&#x4E2A;activity&#xFF0C;&#x5219;intent&#x6BD4;&#x5982;&#x8981;&#x6DFB;&#x52A0;FLAG_ACTIVITY_NEW_TASK&#x6807;&#x8BB0;&#xFF08;&#x7F16;&#x8005;&#x6309;&#xFF1A;activity&#x8981;&#x5B58;&#x5728;&#x4E8E;activity&#x7684;&#x6808;&#x4E2D;&#xFF0C;&#x800C;&#x975E;activity&#x7684;&#x9014;&#x5F84;&#x542F;&#x52A8;activity&#x65F6;&#x5FC5;&#x7136;&#x4E0D;&#x5B58;&#x5728;&#x4E00;&#x4E2A;activity&#x7684;&#x6808;&#xFF0C;&#x6240;&#x4EE5;&#x8981;&#x65B0;&#x8D77;&#x4E00;&#x4E2A;&#x6808;&#x88C5;&#x5165;&#x542F;&#x52A8;&#x7684;activity&#xFF09;&#x3002;&#x7B80;&#x800C;&#x8A00;&#x4E4B;&#xFF0C;&#x8DF3;&#x8F6C;&#x5230;&#x7684;activity&#x6839;&#x636E;&#x60C5;&#x51B5;&#xFF0C;&#x53EF;&#x80FD;&#x538B;&#x5728;&#x4E00;&#x4E2A;&#x65B0;&#x5EFA;&#x7684;&#x6808;&#x4E2D;&#x3002;</p>
<p><strong>3.FLAG_ACTIVITY_NO_HISTORY</strong>&#xFF1A;&#x4F8B;&#x5982;&#x73B0;&#x5728;&#x6808;&#x60C5;&#x51B5;&#x4E3A;&#xFF1A;A B C&#x3002;C&#x901A;&#x8FC7;intent&#x8DF3;&#x8F6C;&#x5230;D&#xFF0C;&#x8FD9;&#x4E2A;intent&#x6DFB;&#x52A0;FLAG_ACTIVITY_NO_HISTORY&#x6807;&#x5FD7;&#xFF0C;&#x5219;&#x6B64;&#x65F6;&#x754C;&#x9762;&#x663E;&#x793A;D&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x4F46;&#x662F;&#x5B83;&#x5E76;&#x4E0D;&#x4F1A;&#x538B;&#x5165;&#x6808;&#x4E2D;&#x3002;&#x5982;&#x679C;&#x6309;&#x8FD4;&#x56DE;&#x952E;&#xFF0C;&#x8FD4;&#x56DE;&#x5230;C&#xFF0C;&#x6808;&#x7684;&#x60C5;&#x51B5;&#x8FD8;&#x662F;&#xFF1A;A B C&#x3002;&#x5982;&#x679C;&#x6B64;&#x65F6;D&#x4E2D;&#x53C8;&#x8DF3;&#x8F6C;&#x5230;E&#xFF0C;&#x6808;&#x7684;&#x60C5;&#x51B5;&#x53D8;&#x4E3A;&#xFF1A;A B C E&#xFF0C;&#x6B64;&#x65F6;&#x6309;&#x8FD4;&#x56DE;&#x952E;&#x4F1A;&#x56DE;&#x5230;C&#xFF0C;&#x56E0;&#x4E3A;D&#x6839;&#x672C;&#x5C31;&#x6CA1;&#x6709;&#x88AB;&#x538B;&#x5165;&#x6808;&#x4E2D;&#x3002;&#x7B80;&#x800C;&#x8A00;&#x4E4B;&#xFF0C;&#x8DF3;&#x8F6C;&#x5230;&#x7684;activity&#x4E0D;&#x538B;&#x5728;&#x6808;&#x4E2D;&#x3002;</p>
<p><strong>4.FLAG_ACTIVITY_SINGLE_TOP</strong>&#xFF1A;&#x548C;Activity&#x7684;Launch mode&#x7684;singleTop&#x7C7B;&#x4F3C;&#x3002;&#x5982;&#x679C;&#x67D0;&#x4E2A;intent&#x6DFB;&#x52A0;&#x4E86;&#x8FD9;&#x4E2A;&#x6807;&#x5FD7;&#xFF0C;&#x5E76;&#x4E14;&#x8FD9;&#x4E2A;intent&#x7684;&#x76EE;&#x6807;activity&#x5C31;&#x662F;&#x6808;&#x9876;&#x7684;activity&#xFF0C;&#x90A3;&#x4E48;&#x5C06;&#x4E0D;&#x4F1A;&#x65B0;&#x5EFA;&#x4E00;&#x4E2A;&#x5B9E;&#x4F8B;&#x538B;&#x5165;&#x6808;&#x4E2D;&#x3002;&#x7B80;&#x800C;&#x8A00;&#x4E4B;&#xFF0C;&#x76EE;&#x6807;activity&#x5DF2;&#x5728;&#x6808;&#x9876;&#x5219;&#x8DF3;&#x8F6C;&#x8FC7;&#x53BB;&#xFF0C;&#x4E0D;&#x5728;&#x6808;&#x9876;&#x5219;&#x5728;&#x6808;&#x9876;&#x65B0;&#x5EFA;activity&#x3002;</p>
<p>&#x4E8C;.intent.setFlags()&#x65B9;&#x6CD5;&#x4E2D;&#x53C2;&#x6570;&#x7684;&#x7528;&#x4F8B;&#xFF1A;</p>
<p>&#x5F88;&#x591A;&#x4EBA;&#x4F7F;&#x7528;startActivity&#x65F6;&#x5019;&#xFF0C;&#x4F1A;&#x78B0;&#x5230;&#x5982;&#x4E0B;&#x7684;&#x5F02;&#x5E38;&#xFF1A;<br>Caused by: android.util.AndroidRuntimeException: Calling startActivity() from outside of an Activity  context requires the FLAG_ACTIVITY_NEW_TASK flag. Is this really what you want?<br>&#x90FD;&#x77E5;&#x9053;&#xFF0C;Context&#x4E2D;&#x6709;&#x4E00;&#x4E2A;startActivity&#x65B9;&#x6CD5;&#xFF0C;Activity&#x7EE7;&#x627F;&#x81EA;Context&#xFF0C;&#x91CD;&#x8F7D;&#x4E86;startActivity&#x65B9;&#x6CD5;&#x3002;&#x5982;&#x679C;&#x4F7F;&#x7528;Activity&#x7684;startActivity&#x65B9;&#x6CD5;&#xFF0C;&#x4E0D;&#x4F1A;&#x6709;&#x4EFB;&#x4F55;&#x9650;&#x5236;&#xFF0C;&#x800C;&#x5982;&#x679C;&#x4F7F;&#x7528;Context&#x7684;startActivity&#x65B9;&#x6CD5;&#x7684;&#x8BDD;&#xFF0C;&#x5C31;&#x9700;&#x8981;&#x5F00;&#x542F;&#x4E00;&#x4E2A;&#x65B0;&#x7684;task&#xFF08;&#x7F16;&#x8005;&#x6309;&#xFF1A;&#x53C2;&#x89C1;&#x4E00;.2.&#x7684;&#x7F16;&#x8005;&#x6309;&#xFF09;&#xFF0C;&#x9047;&#x5230;&#x4E0A;&#x9762;&#x90A3;&#x4E2A;&#x5F02;&#x5E38;&#x7684;&#xFF0C;&#x90FD;&#x662F;&#x56E0;&#x4E3A;&#x4F7F;&#x7528;&#x4E86;Context&#x7684;startActivity&#x65B9;&#x6CD5;&#x3002;&#x89E3;&#x51B3;&#x529E;&#x6CD5;&#x662F;&#xFF1A;Java&#x4EE3;&#x7801;&#x4E2D;&#x52A0;&#x4E00;&#x4E2A;flag&#xFF0C;&#x5373;intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK)&#x3002;&#x8FD9;&#x6837;&#x5C31;&#x53EF;&#x4EE5;&#x5728;&#x65B0;&#x7684;task&#x91CC;&#x9762;&#x542F;&#x52A8;&#x8FD9;&#x4E2A;Activity&#x4E86;&#x3002;</p>
<p>&#xA0;</p>
<p>&#x539F;&#x6587;&#x5730;&#x5740;&#xFF1A;<a href="http://blog.csdn.net/berber78/article/details/7278408" target="_blank" rel="external">http://blog.csdn.net/berber78/article/details/7278408</a></p>

      
      
      
        <div class="post-copyright">
<p><a href="http://www.ithome.me/archives/android中intent-setFlags方法中的参数值含义/">本文</a>为原创，转载请遵守本站的版本</p>
<p class="updated-time" >更新于: </span>2015年7月28日 22:07</p>
</div>

      
    </div>
    
  </div>
  
    
<nav id="article-nav" class="block-select">
  
    <a href="/archives/二十三种设计模式/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">&lt;</strong>
      <div class="article-nav-title">
        
          二十三种设计模式
        
      </div>
    </a>
  
  
    <a href="/archives/3014考古重大发现-搞笑/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">3014考古重大发现(搞笑)</div>
      <strong class="article-nav-caption">&gt;</strong>
    </a>
  
</nav>


  
</article>





</div>
      <footer id="footer" class="block-select">
  <div class="outer">
    <div id="footer-info">
      <div class="footer-left">&copy; 2015-2018
        Simon.Chen
      </div>
    </div>
  </div>
</footer>

    </div>
    <script>
	var ThemeXConfig = {fancybox: false,mathjax: false,animate: false,isHome: false,isPost: true,isArchive: false,isTag: false,isCategory: false,open_in_new: true, CDN_PATH: '' }
</script>


    <script src="/js/jquery-1.9.1.min.js"></script>
    <script src="/js/base.js"></script>
    <script src="/js/jquery.lazyload.min.js"></script>





  </div>
</body>
</html>
